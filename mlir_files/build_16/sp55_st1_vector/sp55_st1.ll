; ModuleID = 'LLVMDialectModule'
source_filename = "LLVMDialectModule"

@__constant_45xindex = private constant [45 x i64] [i64 0, i64 3, i64 4, i64 6, i64 0, i64 3, i64 4, i64 5, i64 8, i64 9, i64 0, i64 2, i64 3, i64 5, i64 8, i64 9, i64 1, i64 9, i64 0, i64 2, i64 4, i64 5, i64 6, i64 7, i64 0, i64 1, i64 2, i64 4, i64 5, i64 7, i64 9, i64 4, i64 8, i64 0, i64 2, i64 3, i64 4, i64 5, i64 1, i64 7, i64 0, i64 2, i64 3, i64 6, i64 7], align 64
@__constant_11xindex = private constant [11 x i64] [i64 0, i64 4, i64 10, i64 16, i64 18, i64 24, i64 31, i64 33, i64 38, i64 40, i64 45], align 64
@__constant_45xf64 = private constant [45 x double] [double 0x40201C020817FC76, double 2.561480e+00, double 7.936840e+00, double 0x401B828D434A01AC, double 1.323310e-01, double 0x40239311409A2403, double 7.394210e+00, double 0x4022BBE707E175D1, double 0x4013F008205FF1D8, double 0x4003807AAEF2C732, double 0x401E756EEFA1E3EB, double 0x4022712C8C5004FB, double 0x4019C1B9F98B71B9, double 0x3FEF4A6223E18698, double 0x4014042D490E66CB, double 0x3FFE30CFE154434E, double 5.897480e+00, double 0x3FF872B884406C01, double 5.430020e+00, double 0x3FE7004534BD76EE, double 3.404220e+00, double 0x4022C0472C0E7BC4, double 0x401991B2A27F1B69, double 0x4015B7E9531550CA, double 0x401687496AAD1D04, double 0x4022FD3198288052, double 0x402149DEEFE4FFC9, double 0x4020628672756862, double 0x4022C4F1A1986B9C, double 0x4023114C660A2014, double 0x3FFA4E66CB10342B, double 0x401D9A6D698FE692, double 0x401652D9CF13CEEA, double 0x40185467BE553AC5, double 0x3FFA3FB7A5F41AEF, double 0x4023D71FDDEBD902, double 0x400857353B4B2FA9, double 0x400355842B734B51, double 0x4005F065F9591CD2, double 0x4020CBD7D3910C2C, double 5.740480e+00, double 0x4020A3C579F23465, double 0x4019397C3D68405B, double 9.847730e+00, double 0x401EB67B1C0010C7], align 64
@__constant_10x10xf64 = private constant [10 x [10 x double]] [[10 x double] [double 0x401BF433A8829AB9, double 0x40233CE146220D0D, double 0x401C3170D57B5BB6, double 0x4006DA6AC030DCB3, double 0x3FF09B9739D1190C, double 0x400233C0085007BA, double 0x40121C2E874D2243, double 0x4008B48142FDD5A0, double 0x4018A6F06B831896, double 0x401A0C8C9AE94BE1], [10 x double] [double 0x4014587520E58E68, double 0x40200C32F327D4F0, double 0x4002F5411DA1852A, double 0x3FFD039EAE0B03E8, double 0x40173EFD33FF1C85, double 0x401C54323841AFE9, double 0x400EBC8A46F8CDA6, double 0x401972FE0D5C08B2, double 0x4019311BDBA1DFD4, double 0x3FF3558C16172A0E], [10 x double] [double 0x401F00BEC5E7E0D2, double 0x400872A230F95378, double 0x4020724946BF6430, double 0x402003BEB3C6E6DB, double 0x40091724F2DE0958, double 0x4015C6D804671080, double 0x400CA7988EEDE60C, double 0x40093AFF75C567D7, double 0x4004B3CCF41AA5FA, double 0x401EA40C45D8ED64], [10 x double] [double 0x3FF898D085D84C60, double 0x401AE8834471984C, double 0x401F214917025676, double 0x401327E09CEC7F02, double 0x40196FD3A09B6BED, double 0x40011765381973E9, double 0x4021E57668444164, double 0x40231C5CD64A9283, double 0x401BC43355B4AB48, double 0x4001790CC73866F6], [10 x double] [double 0x4020CD0AAA97D3AC, double 0x40123F5C0F2EE08D, double 0x4015CCD64ED2C8D5, double 0x40001B6562E9BDBC, double 0x3FF768E56043677B, double 0x40116A46DA00B8EE, double 0x401C1F6FD8A6BFC6, double 0x402279A1ACBA34CD, double 0x3FF4A90BC2FDB9EE, double 0x400D5307B9551854], [10 x double] [double 0x40152D6BBDE6A8E0, double 0x401E858660E39F86, double 0x4023BEFBB4658C6F, double 0x3FFE99641CA7B51F, double 0x40147502F836AFF6, double 0x4022E8752B552474, double 0x40235475DA285A0E, double 0x402195A1EE1E7830, double 0x3FC0520258E34538, double 0x40075354DB9D4FFC], [10 x double] [double 0x3FFEC6DE6FABDCD5, double 0x4007CDE65650FCE2, double 0x401E3C6BB2BDE60A, double 0x4011C8F36F19EA86, double 0x3FE3F9B96208D472, double 0x401C3C11FE1AE5B1, double 0x4011D0E8A137505E, double 0x3FC1C2752C4BC768, double 0x4014573F2494551F, double 0x40044D77ECEBBDDB], [10 x double] [double 0x4016F1EADEE82BF1, double 0x400DAE293D55F6B3, double 0x3FF33E150D63DA08, double 0x4008C03FD7717F38, double 0x4000AECE1E011D60, double 0x4004E12A6FF3619D, double 0x3FCC6F6F73A79928, double 0x40171F15147BBA84, double 0x3FBCB7C3987C4180, double 0x400BEC8E426EF62E], [10 x double] [double 0x400CC1FA1C383FB6, double 0x4022F37BBF7C9866, double 0x400E3B1A26D871F3, double 0x402114E75B686583, double 0x4015700A0FF3E91B, double 0x400133EA8AFAC000, double 0x3FE831D6D05309C6, double 0x400EAB40F0C76CE2, double 0x3FEE3C53808F7158, double 0x3FC4F36CA4DB7748], [10 x double] [double 0x400203876314A073, double 0x401427EB388FA9A6, double 0x40235DBE94F0322E, double 0x40212EB5A9DFB3BC, double 0x401A773056F69ABC, double 0x40205E453AF776CC, double 0x4023CFA28B6A0979, double 0x4022F2FB121AB35E, double 0x400726762772A48E, double 0x4020216E04EB70A9]], align 64

declare ptr @malloc(i64)

define { ptr, ptr, i64, [2 x i64], [2 x i64] } @matmul(ptr %0, ptr %1, i64 %2, i64 %3, i64 %4, ptr %5, ptr %6, i64 %7, i64 %8, i64 %9, ptr %10, ptr %11, i64 %12, i64 %13, i64 %14, { [2 x i64], [3 x i64] } %15, ptr %16, ptr %17, i64 %18, i64 %19, i64 %20, i64 %21, i64 %22, ptr %23, ptr %24, i64 %25, i64 %26, i64 %27, i64 %28, i64 %29) {
  %31 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %16, 0
  %32 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %31, ptr %17, 1
  %33 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %32, i64 %18, 2
  %34 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %33, i64 %19, 3, 0
  %35 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %34, i64 %21, 4, 0
  %36 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %35, i64 %20, 3, 1
  %37 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %36, i64 %22, 4, 1
  %38 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %10, 0
  %39 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %38, ptr %11, 1
  %40 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %39, i64 %12, 2
  %41 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %40, i64 %13, 3, 0
  %42 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %41, i64 %14, 4, 0
  %43 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %5, 0
  %44 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %43, ptr %6, 1
  %45 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %44, i64 %7, 2
  %46 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %45, i64 %8, 3, 0
  %47 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %46, i64 %9, 4, 0
  %48 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %0, 0
  %49 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %48, ptr %1, 1
  %50 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %49, i64 %2, 2
  %51 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %50, i64 %3, 3, 0
  %52 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %51, i64 %4, 4, 0
  %53 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %23, 0
  %54 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %53, ptr %24, 1
  %55 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %54, i64 %25, 2
  %56 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %55, i64 %26, 3, 0
  %57 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %56, i64 %28, 4, 0
  %58 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %57, i64 %27, 3, 1
  %59 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %58, i64 %29, 4, 1
  %60 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %42, 1
  %61 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %52, 1
  %62 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %47, 1
  %63 = getelementptr i64, ptr %61, i64 0
  %64 = load i64, ptr %63, align 4
  %65 = getelementptr i64, ptr %61, i64 1
  %66 = load i64, ptr %65, align 4
  br label %67

67:                                               ; preds = %117, %30
  %68 = phi i64 [ %118, %117 ], [ %64, %30 ]
  %69 = icmp slt i64 %68, %66
  br i1 %69, label %70, label %119

70:                                               ; preds = %67
  %71 = getelementptr i64, ptr %62, i64 %68
  %72 = load i64, ptr %71, align 4
  %73 = mul i64 %68, 10
  br label %74

74:                                               ; preds = %115, %70
  %75 = phi i64 [ %116, %115 ], [ 0, %70 ]
  %76 = icmp slt i64 %75, 10
  br i1 %76, label %77, label %117

77:                                               ; preds = %74
  %78 = add i64 %75, %73
  %79 = getelementptr double, ptr %60, i64 %78
  %80 = load double, ptr %79, align 8
  %81 = call i64 @llvm.vscale.i64()
  %82 = mul i64 %81, 16
  br label %83

83:                                               ; preds = %86, %77
  %84 = phi i64 [ %114, %86 ], [ 0, %77 ]
  %85 = icmp slt i64 %84, 10
  br i1 %85, label %86, label %115

86:                                               ; preds = %83
  %87 = mul nsw i64 %84, -1
  %88 = add i64 %87, 10
  %89 = icmp slt i64 %88, %82
  %90 = select i1 %89, i64 %88, i64 %82
  %91 = call <vscale x 16 x i32> @llvm.stepvector.nxv16i32()
  %92 = trunc i64 %90 to i32
  %93 = insertelement <vscale x 16 x i32> undef, i32 %92, i32 0
  %94 = shufflevector <vscale x 16 x i32> %93, <vscale x 16 x i32> undef, <vscale x 16 x i32> zeroinitializer
  %95 = icmp slt <vscale x 16 x i32> %91, %94
  %96 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %59, 1
  %97 = mul i64 %72, 10
  %98 = add i64 %97, %84
  %99 = getelementptr double, ptr %96, i64 %98
  %100 = call <vscale x 16 x double> @llvm.masked.load.nxv16f64.p0(ptr %99, i32 8, <vscale x 16 x i1> %95, <vscale x 16 x double> zeroinitializer)
  %101 = insertelement <vscale x 16 x double> undef, double %80, i32 0
  %102 = shufflevector <vscale x 16 x double> %101, <vscale x 16 x double> undef, <vscale x 16 x i32> zeroinitializer
  %103 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %37, 1
  %104 = mul i64 %75, 10
  %105 = add i64 %104, %84
  %106 = getelementptr double, ptr %103, i64 %105
  %107 = call <vscale x 16 x double> @llvm.masked.load.nxv16f64.p0(ptr %106, i32 8, <vscale x 16 x i1> %95, <vscale x 16 x double> zeroinitializer)
  %108 = fmul <vscale x 16 x double> %102, %107
  %109 = fadd <vscale x 16 x double> %100, %108
  %110 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %59, 1
  %111 = mul i64 %72, 10
  %112 = add i64 %111, %84
  %113 = getelementptr double, ptr %110, i64 %112
  call void @llvm.masked.store.nxv16f64.p0(<vscale x 16 x double> %109, ptr %113, i32 8, <vscale x 16 x i1> %95)
  %114 = add i64 %84, %82
  br label %83

115:                                              ; preds = %83
  %116 = add i64 %75, 1
  br label %74

117:                                              ; preds = %74
  %118 = add i64 %68, 1
  br label %67

119:                                              ; preds = %67
  ret { ptr, ptr, i64, [2 x i64], [2 x i64] } %59
}

define i64 @main() {
  %1 = call ptr @malloc(i64 add (i64 ptrtoint (ptr getelementptr (double, ptr null, i32 100) to i64), i64 64))
  %2 = ptrtoint ptr %1 to i64
  %3 = add i64 %2, 63
  %4 = urem i64 %3, 64
  %5 = sub i64 %3, %4
  %6 = inttoptr i64 %5 to ptr
  %7 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %1, 0
  %8 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %7, ptr %6, 1
  %9 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %8, i64 0, 2
  %10 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %9, i64 10, 3, 0
  %11 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %10, i64 10, 3, 1
  %12 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %11, i64 10, 4, 0
  %13 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %12, i64 1, 4, 1
  %14 = call { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } @assemble_sparse()
  %15 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 0
  %16 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 1
  %17 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 2
  %18 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 3
  %19 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 0
  %20 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 1
  %21 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 2
  %22 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 3, 0
  %23 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 4, 0
  %24 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 0
  %25 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 1
  %26 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 2
  %27 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 3, 0
  %28 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 4, 0
  %29 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 0
  %30 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 1
  %31 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 2
  %32 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 3, 0
  %33 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 4, 0
  %34 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 0
  %35 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 1
  %36 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 2
  %37 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 3, 0
  %38 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 3, 1
  %39 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 4, 0
  %40 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 4, 1
  %41 = call { ptr, ptr, i64, [2 x i64], [2 x i64] } @matmul(ptr %19, ptr %20, i64 %21, i64 %22, i64 %23, ptr %24, ptr %25, i64 %26, i64 %27, i64 %28, ptr %29, ptr %30, i64 %31, i64 %32, i64 %33, { [2 x i64], [3 x i64] } %18, ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_10x10xf64, i64 0, i64 10, i64 10, i64 10, i64 1, ptr %34, ptr %35, i64 %36, i64 %37, i64 %38, i64 %39, i64 %40)
  %42 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %41, 1
  %43 = getelementptr double, ptr %42, i64 11
  %44 = load double, ptr %43, align 8
  %45 = fptosi double %44 to i64
  ret i64 %45
}

define { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } @assemble_sparse() {
  %1 = load i64, ptr getelementptr (i64, ptr @__constant_11xindex, i64 1), align 4
  %2 = insertvalue { [2 x i64], [3 x i64] } { [2 x i64] [i64 10, i64 undef], [3 x i64] [i64 2, i64 0, i64 0] }, i64 %1, 1, 1
  %3 = insertvalue { [2 x i64], [3 x i64] } %2, i64 10, 0, 1
  %4 = mul i64 %1, 10
  %5 = insertvalue { [2 x i64], [3 x i64] } %3, i64 %4, 1, 2
  %6 = insertvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } { { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_11xindex, i64 0, [1 x i64] [i64 11], [1 x i64] [i64 1] }, { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_45xindex, i64 0, [1 x i64] [i64 45], [1 x i64] [i64 1] }, { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_45xf64, i64 0, [1 x i64] [i64 45], [1 x i64] [i64 1] }, { [2 x i64], [3 x i64] } undef }, { [2 x i64], [3 x i64] } %5, 3
  ret { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %6
}

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(none)
declare i64 @llvm.vscale.i64() #0

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(none)
declare <vscale x 16 x i32> @llvm.stepvector.nxv16i32() #0

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: read)
declare <vscale x 16 x double> @llvm.masked.load.nxv16f64.p0(ptr nocapture, i32 immarg, <vscale x 16 x i1>, <vscale x 16 x double>) #1

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: write)
declare void @llvm.masked.store.nxv16f64.p0(<vscale x 16 x double>, ptr nocapture, i32 immarg, <vscale x 16 x i1>) #2

attributes #0 = { nocallback nofree nosync nounwind willreturn memory(none) }
attributes #1 = { nocallback nofree nosync nounwind willreturn memory(argmem: read) }
attributes #2 = { nocallback nofree nosync nounwind willreturn memory(argmem: write) }

!llvm.module.flags = !{!0}

!0 = !{i32 2, !"Debug Info Version", i32 3}
