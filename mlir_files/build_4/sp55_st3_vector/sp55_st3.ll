; ModuleID = 'LLVMDialectModule'
source_filename = "LLVMDialectModule"

@__constant_10x10xf64 = private constant [10 x [10 x double]] [[10 x double] [double 0x3FFF398667943293, double 0x400E4DE14A22855C, double 0x401EC2BD6B505A33, double 0x400D57D98F847E68, double 0x401DA940E3A65342, double 0x3FF746BF1A522E52, double 0x40212B0D53D2473A, double 0x4011FEBC93887A05, double 0x400F274F7F5B45CE, double 0x401CC0895E35EDA2], [10 x double] [double 0x401BB1CC8B0E421E, double 0x400F553142D2DF26, double 0x4019B71380A9B943, double 0x4001C259242D2354, double 0x40176B21E6C86876, double 0x401DFB8F850CEB76, double 0x4022F21AF40B4C31, double 0x40225C5F4A3A852D, double 0x4023B25A1D86E8AA, double 0x400FEBE098AFE5CC], [10 x double] [double 0x401EF88A979963DD, double 0x401620C47A0780B1, double 0x401DDE02047C86C0, double 0x4016012F8BE31602, double 0x400C563BA15CEA12, double 0x4017ED158B291C26, double 0x4022E2ABE9E98D32, double 0x3FFD94F92F9C4A02, double 0x4021C08690DE5578, double 0x4003228A8A716572], [10 x double] [double 0x4010F7C882B918A7, double 0x402239CEE3A690E1, double 0x4015E4A3FD0FA302, double 0x401C02BC1F5710A9, double 0x400300CB78C2932C, double 0x401A092FC08292E4, double 0x401E0D215B5704F2, double 0x4023529D87A55C56, double 0x40237F9A30CC3323, double 0x4013028F0E2ECFD4], [10 x double] [double 0x401CE70F1F6F10D6, double 0x400096E868BB4C00, double 0x40143647E91DD906, double 0x4005539850D0D686, double 0x401454F3229345B6, double 0x3FC1CE975B822F30, double 0x4022041279858B32, double 0x401F2F834F234A12, double 0x402011F12F462BE4, double 0x400BC0DFC68FE7F1], [10 x double] [double 0x40171DB982432650, double 0x4019533DB343BDF8, double 0x401AB0A68084E5D6, double 0x3FED9D2D96F846C4, double 0x401CB755D5D83453, double 0x3FBCAA8A6EE37F50, double 0x4015809C8BE4372C, double 0x400794479C44A4C0, double 0x3FFAD4FAB3B90693, double 0x401E477C66058C8C], [10 x double] [double 0x402252B09E143F28, double 0x3FD8C6EE032919C4, double 0x3FECBAA0300F7BFA, double 0x40201E89A50D2549, double 0x40216123AB29FCE6, double 0x4011940E2CDC1B9B, double 0x4019E4B75BFAFAB1, double 0x4022B95BE9F8BDA1, double 0x3FC5C9F00953F4C0, double 0x40011E529DDEF539], [10 x double] [double 0x3FED6A84BB8DEEAC, double 0x40234F32E2E20B2B, double 0x3FBE2194F5E86380, double 0x401A616B4CC44468, double 0x4021CAC0A7B047CF, double 0x4021CDA7126C8DD7, double 0x401105DD2ABE193C, double 0x3FE2D8F3DC31D290, double 0x4012AE7B33FBCFB0, double 0x4021A8FB44735E60], [10 x double] [double 0x401D87B0267417D1, double 0x40034CB494A589DA, double 0x40040075907765F2, double 0x400677C4FDC51C2D, double 0x4020081A5C082CB1, double 0x3FDA386093605310, double 0x40217C0871B234A3, double 0x4018635F6E588F94, double 0x3FF2B7A4CB5986EF, double 0x40210E5740167382], [10 x double] [double 0x401E8A50F0FF25EE, double 0x3FCA4949D1DD3960, double 0x401DA0BA6B09E140, double 0x401BC1970298CA76, double 0x4021828F39D13B45, double 0x40197823955DE7A2, double 0x40099A5B7BE0B052, double 0x3FF1640928992950, double 0x4020FC770A6DD2B4, double 0x40209EAA1096873E]], align 64
@__constant_45xindex = private constant [45 x i64] [i64 0, i64 1, i64 2, i64 3, i64 4, i64 6, i64 7, i64 9, i64 5, i64 6, i64 1, i64 4, i64 7, i64 0, i64 3, i64 6, i64 9, i64 1, i64 4, i64 6, i64 7, i64 8, i64 1, i64 4, i64 5, i64 9, i64 0, i64 3, i64 5, i64 6, i64 7, i64 8, i64 9, i64 2, i64 3, i64 8, i64 9, i64 1, i64 3, i64 6, i64 0, i64 1, i64 3, i64 6, i64 9], align 64
@__constant_11xindex = private constant [11 x i64] [i64 0, i64 8, i64 10, i64 13, i64 17, i64 22, i64 26, i64 33, i64 37, i64 40, i64 45], align 64
@__constant_45xf64 = private constant [45 x double] [double 0x400D1746887A8D65, double 0x40213FF9F87F023F, double 0x4020AAE81882ADC5, double 0x401941F9ACFFA7EB, double 1.117260e+00, double 0x3FFE2837F7BE121F, double 0x40018E4C0DF58C09, double 0x401DB6A8B8F14DB6, double 0x4020C6CA25529FE0, double 0x40083B23571D1D47, double 0x4010C8DFBD6A593A, double 0x40155CA89FC6DA45, double 0x4011962CFD8F0C78, double 0x4011DA012599ED7C, double 0x3FFD40A6B93CCD10, double 0x40139E62DC6E2A80, double 0x3FB645C358AFC47E, double 0x4023F5D441355476, double 2.866460e-01, double 0x40052449DBEC2481, double 0x3FEEBF0563ED0F62, double 0x40165CF1800A7C5B, double 0x401055AF294DD723, double 0x400338705425F202, double 0x4011146E8F29D40F, double 0x40123187A4A48F97, double 0x4018951B93037D63, double 0x4012A45ED4A1AD64, double 0x4022090B1FEEB2D1, double 5.301430e+00, double 0x4012D57D9DBA908A, double 0x4022139DC2F405F7, double 0x4023957D3910C2C6, double 4.815480e-01, double 0x400D459A73B42CC3, double 0x40222A55F3519BD4, double 0x40016CF312B1B36C, double 0x401F7B6BB1290258, double 0x4020FC3CC07AAEF3, double 0x4019646950FC71D6, double 0x401E67CC39FFD60F, double 9.729430e+00, double 0x400D64F3343FA2AD, double 0x4017A6C7A7C9DE05, double 0x401AD978D4FDF3B6], align 64

declare ptr @malloc(i64)

define { ptr, ptr, i64, [2 x i64], [2 x i64] } @matmul(ptr %0, ptr %1, i64 %2, i64 %3, i64 %4, ptr %5, ptr %6, i64 %7, i64 %8, i64 %9, ptr %10, ptr %11, i64 %12, i64 %13, i64 %14, { [2 x i64], [3 x i64] } %15, ptr %16, ptr %17, i64 %18, i64 %19, i64 %20, i64 %21, i64 %22, ptr %23, ptr %24, i64 %25, i64 %26, i64 %27, i64 %28, i64 %29) {
  %31 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %16, 0
  %32 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %31, ptr %17, 1
  %33 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %32, i64 %18, 2
  %34 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %33, i64 %19, 3, 0
  %35 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %34, i64 %21, 4, 0
  %36 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %35, i64 %20, 3, 1
  %37 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %36, i64 %22, 4, 1
  %38 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %10, 0
  %39 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %38, ptr %11, 1
  %40 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %39, i64 %12, 2
  %41 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %40, i64 %13, 3, 0
  %42 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %41, i64 %14, 4, 0
  %43 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %5, 0
  %44 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %43, ptr %6, 1
  %45 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %44, i64 %7, 2
  %46 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %45, i64 %8, 3, 0
  %47 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %46, i64 %9, 4, 0
  %48 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } undef, ptr %0, 0
  %49 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %48, ptr %1, 1
  %50 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %49, i64 %2, 2
  %51 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %50, i64 %3, 3, 0
  %52 = insertvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %51, i64 %4, 4, 0
  %53 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %23, 0
  %54 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %53, ptr %24, 1
  %55 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %54, i64 %25, 2
  %56 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %55, i64 %26, 3, 0
  %57 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %56, i64 %28, 4, 0
  %58 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %57, i64 %27, 3, 1
  %59 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %58, i64 %29, 4, 1
  %60 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %42, 1
  %61 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %52, 1
  %62 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %47, 1
  %63 = getelementptr i64, ptr %61, i64 0
  %64 = load i64, ptr %63, align 4
  %65 = getelementptr i64, ptr %61, i64 1
  %66 = load i64, ptr %65, align 4
  br label %67

67:                                               ; preds = %117, %30
  %68 = phi i64 [ %118, %117 ], [ %64, %30 ]
  %69 = icmp slt i64 %68, %66
  br i1 %69, label %70, label %119

70:                                               ; preds = %67
  %71 = getelementptr i64, ptr %62, i64 %68
  %72 = load i64, ptr %71, align 4
  %73 = mul i64 %68, 10
  br label %74

74:                                               ; preds = %115, %70
  %75 = phi i64 [ %116, %115 ], [ 0, %70 ]
  %76 = icmp slt i64 %75, 10
  br i1 %76, label %77, label %117

77:                                               ; preds = %74
  %78 = add i64 %75, %73
  %79 = getelementptr double, ptr %60, i64 %78
  %80 = load double, ptr %79, align 8
  %81 = call i64 @llvm.vscale.i64()
  %82 = mul i64 %81, 4
  br label %83

83:                                               ; preds = %86, %77
  %84 = phi i64 [ %114, %86 ], [ 0, %77 ]
  %85 = icmp slt i64 %84, 10
  br i1 %85, label %86, label %115

86:                                               ; preds = %83
  %87 = mul nsw i64 %84, -1
  %88 = add i64 %87, 10
  %89 = icmp slt i64 %88, %82
  %90 = select i1 %89, i64 %88, i64 %82
  %91 = call <vscale x 4 x i32> @llvm.stepvector.nxv4i32()
  %92 = trunc i64 %90 to i32
  %93 = insertelement <vscale x 4 x i32> undef, i32 %92, i32 0
  %94 = shufflevector <vscale x 4 x i32> %93, <vscale x 4 x i32> undef, <vscale x 4 x i32> zeroinitializer
  %95 = icmp slt <vscale x 4 x i32> %91, %94
  %96 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %59, 1
  %97 = mul i64 %72, 10
  %98 = add i64 %97, %84
  %99 = getelementptr double, ptr %96, i64 %98
  %100 = call <vscale x 4 x double> @llvm.masked.load.nxv4f64.p0(ptr %99, i32 8, <vscale x 4 x i1> %95, <vscale x 4 x double> zeroinitializer)
  %101 = insertelement <vscale x 4 x double> undef, double %80, i32 0
  %102 = shufflevector <vscale x 4 x double> %101, <vscale x 4 x double> undef, <vscale x 4 x i32> zeroinitializer
  %103 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %37, 1
  %104 = mul i64 %75, 10
  %105 = add i64 %104, %84
  %106 = getelementptr double, ptr %103, i64 %105
  %107 = call <vscale x 4 x double> @llvm.masked.load.nxv4f64.p0(ptr %106, i32 8, <vscale x 4 x i1> %95, <vscale x 4 x double> zeroinitializer)
  %108 = fmul <vscale x 4 x double> %102, %107
  %109 = fadd <vscale x 4 x double> %100, %108
  %110 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %59, 1
  %111 = mul i64 %72, 10
  %112 = add i64 %111, %84
  %113 = getelementptr double, ptr %110, i64 %112
  call void @llvm.masked.store.nxv4f64.p0(<vscale x 4 x double> %109, ptr %113, i32 8, <vscale x 4 x i1> %95)
  %114 = add i64 %84, %82
  br label %83

115:                                              ; preds = %83
  %116 = add i64 %75, 1
  br label %74

117:                                              ; preds = %74
  %118 = add i64 %68, 1
  br label %67

119:                                              ; preds = %67
  ret { ptr, ptr, i64, [2 x i64], [2 x i64] } %59
}

define i64 @main() {
  %1 = call ptr @malloc(i64 add (i64 ptrtoint (ptr getelementptr (double, ptr null, i32 100) to i64), i64 64))
  %2 = ptrtoint ptr %1 to i64
  %3 = add i64 %2, 63
  %4 = urem i64 %3, 64
  %5 = sub i64 %3, %4
  %6 = inttoptr i64 %5 to ptr
  %7 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } undef, ptr %1, 0
  %8 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %7, ptr %6, 1
  %9 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %8, i64 0, 2
  %10 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %9, i64 10, 3, 0
  %11 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %10, i64 10, 3, 1
  %12 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %11, i64 10, 4, 0
  %13 = insertvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %12, i64 1, 4, 1
  %14 = call { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } @assemble_sparse()
  %15 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 0
  %16 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 1
  %17 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 2
  %18 = extractvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %14, 3
  %19 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 0
  %20 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 1
  %21 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 2
  %22 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 3, 0
  %23 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %15, 4, 0
  %24 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 0
  %25 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 1
  %26 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 2
  %27 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 3, 0
  %28 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %16, 4, 0
  %29 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 0
  %30 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 1
  %31 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 2
  %32 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 3, 0
  %33 = extractvalue { ptr, ptr, i64, [1 x i64], [1 x i64] } %17, 4, 0
  %34 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 0
  %35 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 1
  %36 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 2
  %37 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 3, 0
  %38 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 3, 1
  %39 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 4, 0
  %40 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %13, 4, 1
  %41 = call { ptr, ptr, i64, [2 x i64], [2 x i64] } @matmul(ptr %19, ptr %20, i64 %21, i64 %22, i64 %23, ptr %24, ptr %25, i64 %26, i64 %27, i64 %28, ptr %29, ptr %30, i64 %31, i64 %32, i64 %33, { [2 x i64], [3 x i64] } %18, ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_10x10xf64, i64 0, i64 10, i64 10, i64 10, i64 1, ptr %34, ptr %35, i64 %36, i64 %37, i64 %38, i64 %39, i64 %40)
  %42 = extractvalue { ptr, ptr, i64, [2 x i64], [2 x i64] } %41, 1
  %43 = getelementptr double, ptr %42, i64 11
  %44 = load double, ptr %43, align 8
  %45 = fptosi double %44 to i64
  ret i64 %45
}

define { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } @assemble_sparse() {
  %1 = load i64, ptr getelementptr (i64, ptr @__constant_11xindex, i64 1), align 4
  %2 = insertvalue { [2 x i64], [3 x i64] } { [2 x i64] [i64 10, i64 undef], [3 x i64] [i64 2, i64 0, i64 0] }, i64 %1, 1, 1
  %3 = insertvalue { [2 x i64], [3 x i64] } %2, i64 10, 0, 1
  %4 = mul i64 %1, 10
  %5 = insertvalue { [2 x i64], [3 x i64] } %3, i64 %4, 1, 2
  %6 = insertvalue { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } { { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_11xindex, i64 0, [1 x i64] [i64 11], [1 x i64] [i64 1] }, { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_45xindex, i64 0, [1 x i64] [i64 45], [1 x i64] [i64 1] }, { ptr, ptr, i64, [1 x i64], [1 x i64] } { ptr inttoptr (i64 3735928559 to ptr), ptr @__constant_45xf64, i64 0, [1 x i64] [i64 45], [1 x i64] [i64 1] }, { [2 x i64], [3 x i64] } undef }, { [2 x i64], [3 x i64] } %5, 3
  ret { { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { ptr, ptr, i64, [1 x i64], [1 x i64] }, { [2 x i64], [3 x i64] } } %6
}

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(none)
declare i64 @llvm.vscale.i64() #0

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(none)
declare <vscale x 4 x i32> @llvm.stepvector.nxv4i32() #0

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: read)
declare <vscale x 4 x double> @llvm.masked.load.nxv4f64.p0(ptr nocapture, i32 immarg, <vscale x 4 x i1>, <vscale x 4 x double>) #1

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: write)
declare void @llvm.masked.store.nxv4f64.p0(<vscale x 4 x double>, ptr nocapture, i32 immarg, <vscale x 4 x i1>) #2

attributes #0 = { nocallback nofree nosync nounwind willreturn memory(none) }
attributes #1 = { nocallback nofree nosync nounwind willreturn memory(argmem: read) }
attributes #2 = { nocallback nofree nosync nounwind willreturn memory(argmem: write) }

!llvm.module.flags = !{!0}

!0 = !{i32 2, !"Debug Info Version", i32 3}
